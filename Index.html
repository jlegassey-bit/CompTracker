<!DOCTYPE html>
<html>
<head>
  <base target="_top">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  
  <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/css/bootstrap.min.css">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.4/css/all.min.css">
  
  <script src="https://code.jquery.com/jquery-3.5.1.min.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/popper.js@1.16.1/dist/umd/popper.min.js"></script>
  <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/js/bootstrap.min.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/sweetalert2@11"></script>

  <style>
    body { background:#f4f6f9; font-family: 'Segoe UI', system-ui, sans-serif; }
    .topbar { background: linear-gradient(90deg, #0b2a4a 0%, #0f3b67 50%, #164b83 100%); border-bottom: 1px solid rgba(255,255,255,0.08); }
    .brand { font-weight: 700; letter-spacing: 0.2px; }
    .hero { padding: 40px 0 20px 0; }
    .hero h1 { font-weight: 800; color: #0f3b67; }
    .action-card { border: 0; border-radius: 14px; box-shadow: 0 8px 24px rgba(16,24,40,0.08); transition: transform .12s ease; cursor: pointer; height: 100%; }
    .action-card:hover { transform: translateY(-3px); box-shadow: 0 12px 30px rgba(16,24,40,0.12); }
    .action-icon { width: 54px; height: 54px; border-radius: 14px; display: flex; align-items: center; justify-content: center; font-size: 22px; color: #fff; margin-right: 15px; }
    .icon-blue { background: #0f3b67; box-shadow: 0 10px 18px rgba(15,59,103,0.18); }
    .icon-green { background: #14532d; box-shadow: 0 10px 18px rgba(20,83,45,0.18); }
    .action-title { font-weight: 800; margin: 0; font-size: 1.1rem; }
    .action-sub { color:#667085; margin: 0; font-size: 0.9rem; }
  </style>
</head>
<body>

  <nav class="navbar navbar-expand-lg navbar-dark topbar">
    <div class="container">
      <a class="navbar-brand brand" href="<?= getScriptUrl() ?>">City of Portland FROI System</a>
      <div class="ml-auto">
        <a class="btn btn-sm btn-outline-light" href="<?= getScriptUrl() ?>?page=reports">
          <i class="fas fa-user-shield mr-1"></i>Admin
        </a>
      </div>
    </div>
  </nav>

  <div class="container hero">
    <div class="row align-items-center">
      <div class="col-lg-8">
        <h1>Welcome</h1>
        <p class="lead text-muted">Submit a First Report of Injury (FROI) or locate a treatment provider.</p>
      </div>
    </div>
  </div>

  <div class="container pb-5">
    <div class="row">
      <div class="col-md-6 mb-4">
        <div class="card action-card" onclick="launchFroiFlow()">
          <div class="card-body p-4">
            <div class="d-flex align-items-center mb-3">
              <div class="action-icon icon-blue"><i class="fas fa-file-medical"></i></div>
              <div>
                <p class="action-title">Create New FROI</p>
                <p class="action-sub">Supervisor Submission Form</p>
              </div>
            </div>
            <p class="text-muted small mb-0">Initiate a new injury report. Please have employee details and incident specifics ready.</p>
          </div>
        </div>
      </div>

      <div class="col-md-6 mb-4">
        <div class="card action-card" onclick="window.location.href='<?= getScriptUrl() ?>?page=providers'">
          <div class="card-body p-4">
            <div class="d-flex align-items-center mb-3">
              <div class="action-icon icon-green"><i class="fas fa-search-location"></i></div>
              <div>
                <p class="action-title">Find a Provider</p>
                <p class="action-sub">Treatment Directory & Hours</p>
              </div>
            </div>
            <p class="text-muted small mb-0">View approved medical providers, their locations, and operating hours.</p>
          </div>
        </div>
      </div>
    </div>

    <div class="alert alert-info border-0 shadow-sm rounded-lg">
      <i class="fas fa-info-circle mr-2"></i>
      <b>Privacy Note:</b> Do not include sensitive medical diagnosis details beyond what is required for the report.
    </div>
  </div>

  <?!= include('Modal_FroiForm'); ?>

  <script>
    function launchFroiFlow() {
      Swal.fire({
        title: 'Supervisor Use Only',
        text: 'This form is for supervisors to report employee injuries.',
        icon: 'warning',
        showCancelButton: true,
        confirmButtonText: 'Proceed',
        confirmButtonColor: '#0f3b67'
      }).then((result) => {
        if (result.isConfirmed) {
          openFroiModal();
        }
      });
    }
  </script>

</body>
</html>